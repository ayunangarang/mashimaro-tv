audio.addEventListener("timeupdate",(e=>{const t=document.querySelector("#audio"),l=document.querySelector("#lyrics"),n=t.currentTime;for(let e=0;e<l.children.length;e++){const o=l.children[e],r=l.children[e+1],c=parseFloat(o.getAttribute("timestamp")),u=r?parseFloat(r.getAttribute("timestamp")):t.duration;n>=c&&n<u?(o.classList.add("active"),autoScroll&&o.scrollIntoView({block:"center"})):(o.classList.remove("active"),o.style.opacity="1")}}));let autoScroll=!1;toggleAutoScroll.addEventListener("click",(()=>{const e=document.querySelector("#toggleAutoScroll");autoScroll=!autoScroll,autoScroll?(e.textContent="🔒 Scroll",e.style.border="solid 2px #f1f3f4",document.querySelector("html").style.overflowY="clip"):(e.textContent="🔓 Scroll",e.style.border="solid 2px #1a1a1a",document.querySelector("html").style.overflowY="visible")})),toggleRepeat.addEventListener("click",(()=>{const e=document.querySelector("#audio"),t=document.querySelector("#toggleRepeat");e.loop=!e.loop,e.loop?(t.textContent="🔁 Repeat",t.style.border="solid 2px #f1f3f4"):(t.textContent="🟦 Repeat",t.style.border="solid 2px #1a1a1a")})),document.addEventListener("fullscreenchange",(()=>{const e=document.querySelector("#overflow");document.fullscreenElement?(e.style.maxHeight="78vh",toggleFullscreenButton.innerHTML="<sup>↘</sup><sub>↖</sub>",toggleFullscreenButton.style.border="solid 2px #f1f3f4"):(e.style.maxHeight="40vh",toggleFullscreenButton.innerHTML="<sup>↖</sup><sub>↘</sub>",toggleFullscreenButton.style.border="solid 2px #1a1a1a")})),lyrics.addEventListener("click",(e=>{if("P"===e.target.tagName){const t=parseFloat(e.target.getAttribute("timestamp"));audio.currentTime=t}})),document.addEventListener("keydown",(function(e){" "===e.key&&(e.preventDefault(),audio.focus())}));const toggleFullscreenButton=document.querySelector("#toggleFullscreenButton"),lyricsContainer=document.querySelector(".lyrics-container");function toggleFullscreen(){document.fullscreenElement?exitFullscreen():enterFullscreen()}function enterFullscreen(){lyricsContainer.requestFullscreen?lyricsContainer.requestFullscreen():lyricsContainer.mozRequestFullScreen?lyricsContainer.mozRequestFullScreen():lyricsContainer.webkitRequestFullscreen?lyricsContainer.webkitRequestFullscreen():lyricsContainer.msRequestFullscreen&&lyricsContainer.msRequestFullscreen()}function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}toggleFullscreenButton.addEventListener("click",(()=>{toggleFullscreen()}));